const _0x58d35f=_0x3813;(function(_0xa71c8c,_0x3e35d7){const _0x3b8226={_0x24a21c:0x139,_0x32e204:0xeb,_0x47e286:0xe1,_0x42ce33:0x117,_0x252631:0x129},_0x2a31e7=_0x3813,_0x5f033d=_0xa71c8c();while(!![]){try{const _0x46c8f8=-parseInt(_0x2a31e7(0x120))/0x1*(-parseInt(_0x2a31e7(_0x3b8226._0x24a21c))/0x2)+-parseInt(_0x2a31e7(_0x3b8226._0x32e204))/0x3*(parseInt(_0x2a31e7(_0x3b8226._0x47e286))/0x4)+-parseInt(_0x2a31e7(0x17f))/0x5+-parseInt(_0x2a31e7(_0x3b8226._0x42ce33))/0x6+-parseInt(_0x2a31e7(0x10b))/0x7+-parseInt(_0x2a31e7(_0x3b8226._0x252631))/0x8+-parseInt(_0x2a31e7(0x13e))/0x9*(-parseInt(_0x2a31e7(0x17c))/0xa);if(_0x46c8f8===_0x3e35d7)break;else _0x5f033d['push'](_0x5f033d['shift']());}catch(_0x263fb6){_0x5f033d['push'](_0x5f033d['shift']());}}}(_0x57e6,0xe3929));const express=require(_0x58d35f(0x150)),app=express(),axios=require(_0x58d35f(0x15e)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x58d35f(0x134))[_0x58d35f(0x191)]),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x58d35f(0x10a)]||'',AUTO_ACCESS=process[_0x58d35f(0x171)][_0x58d35f(0x11c)]||![],FILE_PATH=process[_0x58d35f(0x171)]['FILE_PATH']||_0x58d35f(0x148),SUB_PATH=process['env'][_0x58d35f(0x18e)]||_0x58d35f(0x184),PORT=process[_0x58d35f(0x171)][_0x58d35f(0x159)]||process['env']['PORT']||0xbb8,UUID=process[_0x58d35f(0x171)][_0x58d35f(0x169)]||_0x58d35f(0x179),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x58d35f(0x171)][_0x58d35f(0xfb)]||'',NEZHA_KEY=process[_0x58d35f(0x171)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x58d35f(0x171)]['ARGO_DOMAIN']||_0x58d35f(0x16b),ARGO_AUTH=process['env'][_0x58d35f(0x15c)]||_0x58d35f(0xd1),ARGO_PORT=process['env'][_0x58d35f(0x131)]||0x1f41,CFIP=process[_0x58d35f(0x171)][_0x58d35f(0x12a)]||_0x58d35f(0xcf),CFPORT=process['env'][_0x58d35f(0xde)]||0x1bb,NAME=process['env'][_0x58d35f(0xe5)]||'koyeb';!fs['existsSync'](FILE_PATH)?(fs[_0x58d35f(0x146)](FILE_PATH),console[_0x58d35f(0xf2)](FILE_PATH+'\x20is\x20created')):console[_0x58d35f(0xf2)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x29fa57={_0x144c53:0x164},_0x9af4bf=_0x58d35f,_0x576682=_0x9af4bf(_0x29fa57._0x144c53);let _0xf459d1='';for(let _0x132d96=0x0;_0x132d96<0x6;_0x132d96++){_0xf459d1+=_0x576682[_0x9af4bf(0x141)](Math[_0x9af4bf(0x102)](Math['random']()*_0x576682[_0x9af4bf(0x17b)]));}return _0xf459d1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x58d35f(0x17d)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x58d35f(0x17d)](FILE_PATH,webName),botPath=path[_0x58d35f(0x17d)](FILE_PATH,botName),subPath=path[_0x58d35f(0x17d)](FILE_PATH,_0x58d35f(0x137)),listPath=path[_0x58d35f(0x17d)](FILE_PATH,_0x58d35f(0xfc)),bootLogPath=path[_0x58d35f(0x17d)](FILE_PATH,_0x58d35f(0x126)),configPath=path[_0x58d35f(0x17d)](FILE_PATH,_0x58d35f(0x167));function deleteNodes(){const _0xd501d3={_0x5d81eb:0x160,_0x459692:0xe2,_0x15af1b:0x10f,_0x4301e9:0xe2,_0x4197c5:0x130,_0xb8c584:0x192,_0x3356d3:0x132},_0x1aef55=_0x58d35f;try{if(!UPLOAD_URL)return;if(!fs[_0x1aef55(_0xd501d3._0x5d81eb)](subPath))return;let _0x5a5490;try{_0x5a5490=fs[_0x1aef55(0x18f)](subPath,_0x1aef55(_0xd501d3._0x459692));}catch{return null;}const _0x7b325=Buffer[_0x1aef55(0x143)](_0x5a5490,_0x1aef55(_0xd501d3._0x15af1b))[_0x1aef55(0xda)](_0x1aef55(_0xd501d3._0x4301e9)),_0x426c2d=_0x7b325['split']('\x0a')[_0x1aef55(_0xd501d3._0x4197c5)](_0x31fcd6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x31fcd6));if(_0x426c2d[_0x1aef55(0x17b)]===0x0)return;return axios[_0x1aef55(_0xd501d3._0xb8c584)](UPLOAD_URL+_0x1aef55(_0xd501d3._0x3356d3),JSON[_0x1aef55(0x103)]({'nodes':_0x426c2d}),{'headers':{'Content-Type':_0x1aef55(0x175)}})[_0x1aef55(0x180)](_0x1192bc=>{return null;}),null;}catch(_0x55ef2a){return null;}}function _0x3813(_0x9f8c58,_0x20fbe7){const _0x57e6c3=_0x57e6();return _0x3813=function(_0x3813f0,_0x18f525){_0x3813f0=_0x3813f0-0xcb;let _0x2f1c92=_0x57e6c3[_0x3813f0];return _0x2f1c92;},_0x3813(_0x9f8c58,_0x20fbe7);}function _0x57e6(){const _0xc7f36=['58uiIbto','/tunnel.yml\x20run','country_code','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','fileName','117AhYJEO','2087','https://arm64.ssss.nyc.mn/web','charAt','?encryption=none&security=tls&sni=','from','\x20-s\x20','\x20>/dev/null\x202>&1','mkdirSync','split','.tmp','https://amd64.ssss.nyc.mn/v1','freedom','amd','2053','trojan','response','message','express','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','unlinkSync','/config.json\x20>/dev/null\x202>&1\x20&','xtls-rprx-vision','tunnel.yml','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','success','php\x20running\x20error:\x20','SERVER_PORT','unlink','\x0a\x0avmess://','ARGO_AUTH','status','axios','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','existsSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','/api/add-subscriptions','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','abcdefghijklmnopqrstuvwxyz','chmod','test','config.json','match','UUID','includes','koyebus.cfnodes.de5.net','then','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-c\x20\x22','--tls','2083','env','arm64','Error\x20executing\x20command:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','application/json','direct','org','http','5c15bae6-1fe7-491c-85c4-33831bafc599','readFile','length','5247370bmCJaB','join','vmess','5730160HAnpoN','catch','tls','get','push','5c15bae6','.exe\x20>\x20nul\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','pkill\x20-f\x20\x22[','/vless-argo','tunnel.json','data','win32','web\x20running\x20error:\x20','fileUrl','SUB_PATH','readFileSync','/trojan-argo','exec','post','Subscription\x20uploaded\x20successfully','vless','\x0a\x0atrojan://','https://amd64.ssss.nyc.mn/web','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','eyJhIjoiMTFiYzM5NWE3OGE5OGNiOTNmOGY3M2ZkZDVhODEwYzYiLCJ0IjoiZTdhMGVkNGUtYTMwZi00NzY3LWIzZDgtZDcyZTQwOWM2NmYyIiwicyI6IlkySmlNMll5WWpRdE1qZ3pNaTAwTlRJeUxUazVNR010TkdNNE1EWmpObVEyWXpaaSJ9','Unhandled\x20error\x20in\x20startserver:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','quic','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','aarch64','\x0avless://','\x20is\x20running','createWriteStream','toString','platform','npm\x20running\x20error:\x20','/sub.txt\x20saved\x20successfully','CFPORT','pipe','automatic\x20access\x20task\x20added\x20successfully','3326240GOaXih','utf-8','Empowerment\x20success\x20for\x20','https://arm64.ssss.nyc.mn/bot','NAME','TunnelSecret','ARGO_DOMAIN:','Error\x20downloading\x20files:','https://arm64.ssss.nyc.mn/v1','false','3UqxyEs','text/plain;\x20charset=utf-8','substring','blackhole','&path=%2Fvless-argo%3Fed%3D2560#','unshift','https://ipapi.co/json','log','2096','&fp=firefox&type=ws&host=','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20\x20\x20','\x20failed:\x20','\x20-p\x20','Download\x20','send','NEZHA_PORT','list.txt','https://oooo.serv00.net/add-url','del\x20/f\x20/q\x20','App\x20is\x20running','NEZHA\x20variable\x20is\x20empty,skip\x20running','isFile','floor','stringify','127.0.0.1','https+local://8.8.8.8/dns-query','/vmess-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','taskkill\x20/f\x20/im\x20','error','PROJECT_URL','11590327HnZBtJ','arch','promises','rm\x20-rf\x20','base64','none','forEach','https://arm64.ssss.nyc.mn/agent','443','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Error\x20reading\x20boot.log:','countryCode','8009946fgFYry','https://amd64.ssss.nyc.mn/bot','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','listen','index.html','AUTO_ACCESS','\x0a\x20\x20credentials-file:\x20','config.yaml','Skipping\x20adding\x20automatic\x20access\x20task','22931MCQCqB','statSync','writeFileSync','Content-Type','has','/api/add-nodes','boot.log','/dev/null','\x20>/dev/null\x202>&1\x20&','12688792xFDPeE','CFIP','8443','?security=tls&sni=','tcp','https://amd64.ssss.nyc.mn/agent','block','filter','ARGO_PORT','/api/delete-nodes','nohup\x20','child_process','http\x20server\x20is\x20running\x20on\x20port:','arm','sub.txt','map'];_0x57e6=function(){return _0xc7f36;};return _0x57e6();}function cleanupOldFiles(){const _0x3cbaed={_0x1ad0f9:0x111},_0x56f059={_0x47ce8c:0x17d,_0x205f87:0x121,_0x1bed9e:0x101},_0x4c0e30=_0x58d35f;try{const _0x5d3d6e=fs['readdirSync'](FILE_PATH);_0x5d3d6e[_0x4c0e30(_0x3cbaed._0x1ad0f9)](_0x12a16c=>{const _0x58cbdd=_0x4c0e30,_0x2ff399=path[_0x58cbdd(_0x56f059._0x47ce8c)](FILE_PATH,_0x12a16c);try{const _0x27acb6=fs[_0x58cbdd(_0x56f059._0x205f87)](_0x2ff399);_0x27acb6[_0x58cbdd(_0x56f059._0x1bed9e)]()&&fs[_0x58cbdd(0x152)](_0x2ff399);}catch(_0x12b4f1){}});}catch(_0x4f0cc1){}}async function generateConfig(){const _0x371f10={_0x542ce4:0x110,_0x358454:0x104,_0x4a044b:0x188,_0x3d5e64:0x181,_0x507538:0x17e,_0x1ad6f6:0x178,_0x1f79ad:0x190,_0x51f559:0xee,_0x51eb45:0x12f,_0x15439f:0x17d},_0x494203=_0x58d35f,_0x3e13f1={'log':{'access':_0x494203(0x127),'error':'/dev/null','loglevel':_0x494203(_0x371f10._0x542ce4)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x494203(0xcc),'settings':{'clients':[{'id':UUID,'flow':_0x494203(0x154)}],'decryption':_0x494203(0x110),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x494203(0x106),'dest':0xbbb},{'path':_0x494203(0x190),'dest':0xbbc}]},'streamSettings':{'network':_0x494203(0x12d)}},{'port':0xbb9,'listen':_0x494203(_0x371f10._0x358454),'protocol':_0x494203(0xcc),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x494203(0x12d),'security':_0x494203(0x110)}},{'port':0xbba,'listen':_0x494203(0x104),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x494203(0x110)},'streamSettings':{'network':'ws','security':_0x494203(0x110),'wsSettings':{'path':_0x494203(_0x371f10._0x4a044b)}},'sniffing':{'enabled':!![],'destOverride':[_0x494203(0x178),_0x494203(_0x371f10._0x3d5e64),_0x494203(0xd4)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x494203(_0x371f10._0x507538),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x494203(_0x371f10._0x1ad6f6),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x494203(0x14d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x494203(_0x371f10._0x542ce4),'wsSettings':{'path':_0x494203(_0x371f10._0x1f79ad)}},'sniffing':{'enabled':!![],'destOverride':[_0x494203(0x178),_0x494203(0x181),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x494203(0x105)]},'outbounds':[{'protocol':_0x494203(0x14a),'tag':_0x494203(0x176)},{'protocol':_0x494203(_0x371f10._0x51f559),'tag':_0x494203(_0x371f10._0x51eb45)}]};fs[_0x494203(0x122)](path[_0x494203(_0x371f10._0x15439f)](FILE_PATH,_0x494203(0x167)),JSON[_0x494203(0x103)](_0x3e13f1,null,0x2));}function getSystemArchitecture(){const _0x5558d9={_0x456c21:0x136,_0x1ee29e:0x136},_0x3ffefa=_0x58d35f,_0x39b8a0=os[_0x3ffefa(0x10c)]();return _0x39b8a0===_0x3ffefa(_0x5558d9._0x456c21)||_0x39b8a0===_0x3ffefa(0x172)||_0x39b8a0===_0x3ffefa(0xd6)?_0x3ffefa(_0x5558d9._0x1ee29e):_0x3ffefa(0x14b);}function downloadFile(_0x2e174d,_0x50b8a6,_0x1b2372){const _0x2c67cb={_0x1c1e99:0x146,_0xb2a356:0x180},_0x49cf56={_0x4293e3:0x109},_0x36083f={_0x50b032:0xdf},_0x5b3d47={_0x333d3f:0xf9,_0x51428b:0xf7,_0x3bec1d:0x109},_0x265cfb={_0x5c2378:0xf2},_0x278ded=_0x58d35f,_0x217e16=_0x2e174d;!fs['existsSync'](FILE_PATH)&&fs[_0x278ded(_0x2c67cb._0x1c1e99)](FILE_PATH,{'recursive':!![]});const _0x498888=fs[_0x278ded(0xd9)](_0x217e16);axios({'method':_0x278ded(0x182),'url':_0x50b8a6,'responseType':'stream'})[_0x278ded(0x16c)](_0x41acae=>{const _0x3694cb=_0x278ded;_0x41acae['data'][_0x3694cb(_0x36083f._0x50b032)](_0x498888),_0x498888['on']('finish',()=>{const _0x236225=_0x3694cb;_0x498888['close'](),console[_0x236225(_0x265cfb._0x5c2378)](_0x236225(0xf9)+path['basename'](_0x217e16)+'\x20successfully'),_0x1b2372(null,_0x217e16);}),_0x498888['on']('error',_0x52126b=>{const _0x319afa=_0x3694cb;fs[_0x319afa(0x15a)](_0x217e16,()=>{});const _0x41711c=_0x319afa(_0x5b3d47._0x333d3f)+path['basename'](_0x217e16)+_0x319afa(_0x5b3d47._0x51428b)+_0x52126b['message'];console[_0x319afa(_0x5b3d47._0x3bec1d)](_0x41711c),_0x1b2372(_0x41711c);});})[_0x278ded(_0x2c67cb._0xb2a356)](_0xa2ddd0=>{const _0x1313a3=_0x278ded,_0x42c9aa=_0x1313a3(0xf9)+path['basename'](_0x217e16)+'\x20failed:\x20'+_0xa2ddd0['message'];console[_0x1313a3(_0x49cf56._0x4293e3)](_0x42c9aa),_0x1b2372(_0x42c9aa);});}async function downloadFilesAndRun(){const _0x40ccf4={_0x144e51:0x16a,_0x572f61:0x12b,_0x13a4f2:0x13f,_0x454b98:0x151,_0x3484af:0x122,_0x474fb0:0x17d,_0x58e6e1:0x11e,_0x7105c8:0x16e,_0x5bd014:0x119,_0x2e31c9:0x109,_0x40e433:0xf3,_0x3f0aa1:0x170,_0x4046d5:0x14c,_0x22aebe:0xd8,_0x114433:0xf2,_0x4a918d:0x133,_0x5dcf44:0x18c,_0x324bd1:0x160,_0x4cd3d8:0x168,_0x42aa61:0xf2,_0x287ff0:0xd8},_0x477cfc=_0x58d35f,_0x35bdd9=getSystemArchitecture(),_0x24141f=getFilesForArchitecture(_0x35bdd9);if(_0x24141f[_0x477cfc(0x17b)]===0x0){console[_0x477cfc(0xf2)](_0x477cfc(0x163));return;}const _0x4d1ed1=_0x24141f[_0x477cfc(0x138)](_0x4d1234=>{const _0x12df8b={_0x255a9d:0x13d,_0x54d2f1:0x18d};return new Promise((_0x38c696,_0x46a164)=>{const _0x5f45f8=_0x3813;downloadFile(_0x4d1234[_0x5f45f8(_0x12df8b._0x255a9d)],_0x4d1234[_0x5f45f8(_0x12df8b._0x54d2f1)],(_0xfccae2,_0x2689ad)=>{_0xfccae2?_0x46a164(_0xfccae2):_0x38c696(_0x2689ad);});});});try{await Promise['all'](_0x4d1ed1);}catch(_0x5e24e2){console[_0x477cfc(0x109)](_0x477cfc(0xe8),_0x5e24e2);return;}function _0x483787(_0x15aebe){const _0x393997={_0x120ddb:0x165},_0x558668=_0x477cfc,_0x3b3e1d=0x1fd;_0x15aebe[_0x558668(0x111)](_0x64a5ae=>{const _0x31e1be=_0x558668;fs[_0x31e1be(0x160)](_0x64a5ae)&&fs[_0x31e1be(_0x393997._0x120ddb)](_0x64a5ae,_0x3b3e1d,_0x6c1140=>{const _0x3fb4fc=_0x31e1be;_0x6c1140?console[_0x3fb4fc(0x109)]('Empowerment\x20failed\x20for\x20'+_0x64a5ae+':\x20'+_0x6c1140):console['log'](_0x3fb4fc(0xe3)+_0x64a5ae+':\x20'+_0x3b3e1d['toString'](0x8));});});}const _0x30c0ce=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x483787(_0x30c0ce);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3ee023=NEZHA_SERVER[_0x477cfc(_0x40ccf4._0x144e51)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x536a20=new Set(['443',_0x477cfc(_0x40ccf4._0x572f61),'2096',_0x477cfc(_0x40ccf4._0x13a4f2),_0x477cfc(0x170),_0x477cfc(0x14c)]),_0x39a371=_0x536a20[_0x477cfc(0x124)](_0x3ee023)?'true':_0x477cfc(0xea),_0x2f5d37='\x0aclient_secret:\x20'+NEZHA_KEY+_0x477cfc(_0x40ccf4._0x454b98)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x39a371+_0x477cfc(0x114)+UUID;fs[_0x477cfc(_0x40ccf4._0x3484af)](path[_0x477cfc(_0x40ccf4._0x474fb0)](FILE_PATH,_0x477cfc(_0x40ccf4._0x58e6e1)),_0x2f5d37);const _0x183438=_0x477cfc(0x133)+phpPath+_0x477cfc(_0x40ccf4._0x7105c8)+FILE_PATH+_0x477cfc(_0x40ccf4._0x5bd014);try{await exec(_0x183438),console[_0x477cfc(0xf2)](phpName+_0x477cfc(0xd8)),await new Promise(_0xab7255=>setTimeout(_0xab7255,0x3e8));}catch(_0x46ef4f){console[_0x477cfc(_0x40ccf4._0x2e31c9)](_0x477cfc(0x158)+_0x46ef4f);}}else{let _0x203a13='';const _0x36fb64=[_0x477cfc(0x113),'8443',_0x477cfc(_0x40ccf4._0x40e433),'2087',_0x477cfc(_0x40ccf4._0x3f0aa1),_0x477cfc(_0x40ccf4._0x4046d5)];_0x36fb64['includes'](NEZHA_PORT)&&(_0x203a13=_0x477cfc(0x16f));const _0x4678b4='nohup\x20'+npmPath+_0x477cfc(0x144)+NEZHA_SERVER+':'+NEZHA_PORT+_0x477cfc(0xf8)+NEZHA_KEY+'\x20'+_0x203a13+_0x477cfc(0x13c);try{await exec(_0x4678b4),console['log'](npmName+_0x477cfc(_0x40ccf4._0x22aebe)),await new Promise(_0x2a2584=>setTimeout(_0x2a2584,0x3e8));}catch(_0x3c31da){console[_0x477cfc(0x109)](_0x477cfc(0xdc)+_0x3c31da);}}}else console[_0x477cfc(_0x40ccf4._0x114433)](_0x477cfc(0x100));const _0x3f98f5=_0x477cfc(_0x40ccf4._0x4a918d)+webPath+'\x20-c\x20'+FILE_PATH+_0x477cfc(0x153);try{await exec(_0x3f98f5),console[_0x477cfc(_0x40ccf4._0x114433)](webName+_0x477cfc(_0x40ccf4._0x22aebe)),await new Promise(_0x438ecd=>setTimeout(_0x438ecd,0x3e8));}catch(_0x512013){console['error'](_0x477cfc(_0x40ccf4._0x5dcf44)+_0x512013);}if(fs[_0x477cfc(_0x40ccf4._0x324bd1)](botPath)){let _0x1e9149;if(ARGO_AUTH[_0x477cfc(_0x40ccf4._0x4cd3d8)](/^[A-Z0-9a-z=]{120,250}$/))_0x1e9149=_0x477cfc(0x15f)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1e9149=_0x477cfc(0xd0)+FILE_PATH+_0x477cfc(0x13a):_0x1e9149='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x477cfc(0xd5)+ARGO_PORT;try{await exec(_0x477cfc(0x133)+botPath+'\x20'+_0x1e9149+_0x477cfc(0x128)),console[_0x477cfc(_0x40ccf4._0x42aa61)](botName+_0x477cfc(_0x40ccf4._0x287ff0)),await new Promise(_0x3dfffe=>setTimeout(_0x3dfffe,0x7d0));}catch(_0xccd0e9){console['error']('Error\x20executing\x20command:\x20'+_0xccd0e9);}}await new Promise(_0x35f3da=>setTimeout(_0x35f3da,0x1388));}function getFilesForArchitecture(_0x27e550){const _0x43db45={_0x5358f3:0x118,_0x3b1d62:0x136,_0x1cd466:0x149},_0x59c6e0=_0x58d35f;let _0x116605;_0x27e550===_0x59c6e0(0x136)?_0x116605=[{'fileName':webPath,'fileUrl':_0x59c6e0(0x140)},{'fileName':botPath,'fileUrl':_0x59c6e0(0xe4)}]:_0x116605=[{'fileName':webPath,'fileUrl':_0x59c6e0(0xce)},{'fileName':botPath,'fileUrl':_0x59c6e0(_0x43db45._0x5358f3)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5731a9=_0x27e550===_0x59c6e0(_0x43db45._0x3b1d62)?_0x59c6e0(0x112):_0x59c6e0(0x12e);_0x116605['unshift']({'fileName':npmPath,'fileUrl':_0x5731a9});}else{const _0x952d2=_0x27e550==='arm'?_0x59c6e0(0xe9):_0x59c6e0(_0x43db45._0x1cd466);_0x116605[_0x59c6e0(0xf0)]({'fileName':phpPath,'fileUrl':_0x952d2});}}return _0x116605;}function argoType(){const _0xb74bbc={_0x506491:0xf2,_0x2bf2de:0xe6,_0x3f010c:0x17d,_0x5d710a:0x11d,_0x5d70cf:0x155,_0x5ab31b:0xd3},_0x5682fc=_0x58d35f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5682fc(_0xb74bbc._0x506491)](_0x5682fc(0x156));return;}if(ARGO_AUTH['includes'](_0x5682fc(_0xb74bbc._0x2bf2de))){fs[_0x5682fc(0x122)](path[_0x5682fc(_0xb74bbc._0x3f010c)](FILE_PATH,_0x5682fc(0x189)),ARGO_AUTH);const _0x419655='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x5682fc(_0xb74bbc._0x5d710a)+path[_0x5682fc(0x17d)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5682fc(0x16d);fs['writeFileSync'](path[_0x5682fc(0x17d)](FILE_PATH,_0x5682fc(_0xb74bbc._0x5d70cf)),_0x419655);}else console['log'](_0x5682fc(_0xb74bbc._0x5ab31b));}async function extractDomains(){const _0x3c3a6b={_0x188421:0xe2,_0x3713b4:0x17b,_0x53aa0e:0x186,_0x14dcbc:0x128,_0x31608b:0xf2,_0x4bc396:0x173,_0x2f3dbb:0x109},_0x1d267d={_0x25796c:0x18a,_0x417971:0x13b,_0x5b1df4:0x177,_0x62c668:0x182,_0x596e95:0x18a,_0x4a9e16:0x18a,_0x1e327f:0x157,_0x170ff9:0x18a},_0xaaef2d={_0x55f289:0x18b,_0x5e14f1:0x185,_0x2ee15e:0x187,_0x48f776:0x141,_0x48f77f:0xed},_0x3b09ad=_0x58d35f;let _0x24c805;if(ARGO_AUTH&&ARGO_DOMAIN)_0x24c805=ARGO_DOMAIN,console['log'](_0x3b09ad(0xe7),_0x24c805),await _0x37f7ec(_0x24c805);else try{const _0x3a668c=fs[_0x3b09ad(0x18f)](path['join'](FILE_PATH,'boot.log'),_0x3b09ad(_0x3c3a6b._0x188421)),_0x451cd4=_0x3a668c['split']('\x0a'),_0x2c57af=[];_0x451cd4[_0x3b09ad(0x111)](_0x2f9583=>{const _0x28f0dd=_0x3b09ad,_0xb6f984=_0x2f9583[_0x28f0dd(0x168)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xb6f984){const _0x1399fe=_0xb6f984[0x1];_0x2c57af[_0x28f0dd(0x183)](_0x1399fe);}});if(_0x2c57af[_0x3b09ad(_0x3c3a6b._0x3713b4)]>0x0)_0x24c805=_0x2c57af[0x0],console[_0x3b09ad(0xf2)]('ArgoDomain:',_0x24c805),await _0x37f7ec(_0x24c805);else{console[_0x3b09ad(0xf2)](_0x3b09ad(_0x3c3a6b._0x53aa0e)),fs[_0x3b09ad(0x152)](path['join'](FILE_PATH,'boot.log'));async function _0x5bd4de(){const _0x1bca4a=_0x3b09ad;try{process[_0x1bca4a(0xdb)]===_0x1bca4a(_0xaaef2d._0x55f289)?await exec(_0x1bca4a(0x108)+botName+_0x1bca4a(_0xaaef2d._0x5e14f1)):await exec(_0x1bca4a(_0xaaef2d._0x2ee15e)+botName[_0x1bca4a(_0xaaef2d._0x48f776)](0x0)+']'+botName[_0x1bca4a(_0xaaef2d._0x48f77f)](0x1)+_0x1bca4a(0xf5));}catch(_0x17d59b){}}_0x5bd4de(),await new Promise(_0x4e6d52=>setTimeout(_0x4e6d52,0xbb8));const _0x2530b0='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3b09ad(0xd5)+ARGO_PORT;try{await exec(_0x3b09ad(0x133)+botPath+'\x20'+_0x2530b0+_0x3b09ad(_0x3c3a6b._0x14dcbc)),console[_0x3b09ad(_0x3c3a6b._0x31608b)](botName+'\x20is\x20running'),await new Promise(_0x386297=>setTimeout(_0x386297,0xbb8)),await extractDomains();}catch(_0x47c12c){console[_0x3b09ad(0x109)](_0x3b09ad(_0x3c3a6b._0x4bc396)+_0x47c12c);}}}catch(_0x30d892){console[_0x3b09ad(_0x3c3a6b._0x2f3dbb)](_0x3b09ad(0x115),_0x30d892);}async function _0x24d148(){const _0x2394c7=_0x3b09ad;try{const _0xbeb8a5=await axios['get'](_0x2394c7(0xf1),{'timeout':0xbb8});if(_0xbeb8a5[_0x2394c7(0x18a)]&&_0xbeb8a5[_0x2394c7(0x18a)]['country_code']&&_0xbeb8a5[_0x2394c7(_0x1d267d._0x25796c)][_0x2394c7(0x177)])return _0xbeb8a5[_0x2394c7(0x18a)][_0x2394c7(_0x1d267d._0x417971)]+'_'+_0xbeb8a5[_0x2394c7(0x18a)][_0x2394c7(_0x1d267d._0x5b1df4)];}catch(_0x6e6e18){try{const _0x5ef03f=await axios[_0x2394c7(_0x1d267d._0x62c668)]('http://ip-api.com/json',{'timeout':0xbb8});if(_0x5ef03f[_0x2394c7(_0x1d267d._0x596e95)]&&_0x5ef03f[_0x2394c7(_0x1d267d._0x4a9e16)][_0x2394c7(0x15d)]===_0x2394c7(_0x1d267d._0x1e327f)&&_0x5ef03f[_0x2394c7(0x18a)][_0x2394c7(0x116)]&&_0x5ef03f[_0x2394c7(_0x1d267d._0x170ff9)]['org'])return _0x5ef03f[_0x2394c7(0x18a)][_0x2394c7(0x116)]+'_'+_0x5ef03f[_0x2394c7(0x18a)][_0x2394c7(_0x1d267d._0x5b1df4)];}catch(_0xf0c591){}}return'Unknown';}async function _0x37f7ec(_0x460699){const _0x1e8928={_0x218436:0xd7,_0x502e97:0x142,_0x18b52f:0x15b,_0x53d2b7:0x143,_0x4419b2:0x103,_0x34636c:0xda,_0x348966:0x12c,_0x4f6431:0xf4,_0x2aadfc:0x10f,_0xba94a5:0x122,_0x53f094:0xda,_0x38cfe6:0xf2,_0x424ed9:0xdd},_0x221cc4=await _0x24d148(),_0x6253b6=NAME?NAME+'-'+_0x221cc4:_0x221cc4;return new Promise(_0xec80d=>{setTimeout(()=>{const _0x3d9a8b={_0x396d7a:0xec},_0x26ed20=_0x3813,_0x4720dd={'v':'2','ps':''+_0x6253b6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x26ed20(0x110),'host':_0x460699,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x460699,'alpn':'','fp':'firefox'},_0x2961bf=_0x26ed20(_0x1e8928._0x218436)+UUID+'@'+CFIP+':'+CFPORT+_0x26ed20(_0x1e8928._0x502e97)+_0x460699+_0x26ed20(0xf4)+_0x460699+_0x26ed20(0xef)+_0x6253b6+_0x26ed20(_0x1e8928._0x18b52f)+Buffer[_0x26ed20(_0x1e8928._0x53d2b7)](JSON[_0x26ed20(_0x1e8928._0x4419b2)](_0x4720dd))[_0x26ed20(_0x1e8928._0x34636c)]('base64')+_0x26ed20(0xcd)+UUID+'@'+CFIP+':'+CFPORT+_0x26ed20(_0x1e8928._0x348966)+_0x460699+_0x26ed20(_0x1e8928._0x4f6431)+_0x460699+_0x26ed20(0x174)+_0x6253b6+_0x26ed20(0xf6);console['log'](Buffer['from'](_0x2961bf)[_0x26ed20(0xda)](_0x26ed20(_0x1e8928._0x2aadfc))),fs[_0x26ed20(_0x1e8928._0xba94a5)](subPath,Buffer[_0x26ed20(_0x1e8928._0x53d2b7)](_0x2961bf)[_0x26ed20(_0x1e8928._0x53f094)]('base64')),console[_0x26ed20(_0x1e8928._0x38cfe6)](FILE_PATH+_0x26ed20(_0x1e8928._0x424ed9)),uploadNodes(),app[_0x26ed20(0x182)]('/'+SUB_PATH,(_0xf8b641,_0x22593d)=>{const _0x1be5e8=_0x26ed20,_0x43abfd=Buffer[_0x1be5e8(0x143)](_0x2961bf)[_0x1be5e8(0xda)](_0x1be5e8(0x10f));_0x22593d['set'](_0x1be5e8(0x123),_0x1be5e8(_0x3d9a8b._0x396d7a)),_0x22593d['send'](_0x43abfd);}),_0xec80d(_0x2961bf);},0x7d0);});}}async function uploadNodes(){const _0xfefb60={_0x593ec2:0x192,_0x4c1edc:0x15d,_0x5d9f14:0xf2,_0x192e18:0xcb,_0x380377:0x14e,_0x1a003b:0x18f,_0x1b43d0:0xe2,_0x498a24:0x147,_0x7001ba:0x175},_0x26dc85=_0x58d35f;if(UPLOAD_URL&&PROJECT_URL){const _0x3b19c0=PROJECT_URL+'/'+SUB_PATH,_0x2c6f6b={'subscription':[_0x3b19c0]};try{const _0x27d5b3=await axios[_0x26dc85(_0xfefb60._0x593ec2)](UPLOAD_URL+_0x26dc85(0x162),_0x2c6f6b,{'headers':{'Content-Type':'application/json'}});return _0x27d5b3&&_0x27d5b3[_0x26dc85(_0xfefb60._0x4c1edc)]===0xc8?(console[_0x26dc85(_0xfefb60._0x5d9f14)](_0x26dc85(_0xfefb60._0x192e18)),_0x27d5b3):null;}catch(_0x5ef010){if(_0x5ef010['response']){if(_0x5ef010[_0x26dc85(_0xfefb60._0x380377)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x26dc85(0x160)](listPath))return;const _0x28414f=fs[_0x26dc85(_0xfefb60._0x1a003b)](listPath,_0x26dc85(_0xfefb60._0x1b43d0)),_0x3db8f9=_0x28414f[_0x26dc85(_0xfefb60._0x498a24)]('\x0a')['filter'](_0x5e0a03=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x26dc85(0x166)](_0x5e0a03));if(_0x3db8f9['length']===0x0)return;const _0x2398f2=JSON[_0x26dc85(0x103)]({'nodes':_0x3db8f9});try{const _0xa2ef0f=await axios['post'](UPLOAD_URL+_0x26dc85(0x125),_0x2398f2,{'headers':{'Content-Type':_0x26dc85(_0xfefb60._0x7001ba)}});return _0xa2ef0f&&_0xa2ef0f['status']===0xc8?(console[_0x26dc85(0xf2)]('Nodes\x20uploaded\x20successfully'),_0xa2ef0f):null;}catch(_0x1ac65e){return null;}}else return;}}function cleanFiles(){const _0x239e4e={_0x4db6c9:0x183,_0x204e82:0xfe,_0x42ec14:0x10e,_0x4c368c:0x145},_0x199807={_0x32aaee:0xf2};setTimeout(()=>{const _0x13f69f={_0x135126:0xff,_0x90cd7d:0xf2},_0x3b2ddc=_0x3813,_0x1e8f65=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1e8f65['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1e8f65[_0x3b2ddc(_0x239e4e._0x4db6c9)](phpPath);process['platform']===_0x3b2ddc(0x18b)?exec(_0x3b2ddc(_0x239e4e._0x204e82)+_0x1e8f65[_0x3b2ddc(0x17d)]('\x20')+'\x20>\x20nul\x202>&1',_0xa93b4f=>{const _0x370aff=_0x3b2ddc;console['clear'](),console[_0x370aff(0xf2)](_0x370aff(_0x13f69f._0x135126)),console[_0x370aff(_0x13f69f._0x90cd7d)](_0x370aff(0x161));}):exec(_0x3b2ddc(_0x239e4e._0x42ec14)+_0x1e8f65['join']('\x20')+_0x3b2ddc(_0x239e4e._0x4c368c),_0x7f7321=>{const _0x274dba=_0x3b2ddc;console['clear'](),console['log'](_0x274dba(0xff)),console[_0x274dba(_0x199807._0x32aaee)](_0x274dba(0x161));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2d94d2={_0x1b09b5:0x11f,_0x41d088:0x192,_0x12bee4:0xfd,_0x216ea8:0x107},_0x3bddc0=_0x58d35f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3bddc0(0xf2)](_0x3bddc0(_0x2d94d2._0x1b09b5));return;}try{const _0xfe40fe=await axios[_0x3bddc0(_0x2d94d2._0x41d088)](_0x3bddc0(_0x2d94d2._0x12bee4),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x3bddc0(0xf2)](_0x3bddc0(0xe0)),_0xfe40fe;}catch(_0x4e57af){return console[_0x3bddc0(0x109)](_0x3bddc0(_0x2d94d2._0x216ea8)+_0x4e57af[_0x3bddc0(0x14f)]),null;}}async function startserver(){const _0x40afa2={_0x583c09:0x109},_0x492806=_0x58d35f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3510b7){console[_0x492806(_0x40afa2._0x583c09)]('Error\x20in\x20startserver:',_0x3510b7);}}startserver()[_0x58d35f(0x180)](_0x3bf7fa=>{const _0x151636={_0x645c1:0xd2},_0x40b7be=_0x58d35f;console[_0x40b7be(0x109)](_0x40b7be(_0x151636._0x645c1),_0x3bf7fa);}),app[_0x58d35f(0x182)]('/',async function(_0x410e8c,_0xce952){const _0x4b147e={_0xee8a32:0x17a},_0x4a747f=_0x58d35f;try{const _0x2e91d2=path['join'](__dirname,_0x4a747f(0x11b)),_0x174a1f=await fs[_0x4a747f(0x10d)][_0x4a747f(_0x4b147e._0xee8a32)](_0x2e91d2,'utf8');_0xce952[_0x4a747f(0xfa)](_0x174a1f);}catch(_0x51c66f){_0xce952['send']('Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!');}}),app[_0x58d35f(0x11a)](PORT,()=>console[_0x58d35f(0xf2)](_0x58d35f(0x135)+PORT+'!'));