const _0x2af9a3=_0x2626;(function(_0x2724d2,_0x26413d){const _0x52a71e={_0x486409:0x1b4,_0x3e4587:0x20e,_0x485983:0x1ff,_0x4714bf:0x202,_0x1df8b4:0x1ab,_0x270d9d:0x1ee,_0x2f886f:0x252},_0x5d1a9d=_0x2626,_0x194786=_0x2724d2();while(!![]){try{const _0x5993f4=-parseInt(_0x5d1a9d(_0x52a71e._0x486409))/0x1*(-parseInt(_0x5d1a9d(0x259))/0x2)+-parseInt(_0x5d1a9d(_0x52a71e._0x3e4587))/0x3*(-parseInt(_0x5d1a9d(_0x52a71e._0x485983))/0x4)+parseInt(_0x5d1a9d(_0x52a71e._0x4714bf))/0x5*(-parseInt(_0x5d1a9d(_0x52a71e._0x1df8b4))/0x6)+-parseInt(_0x5d1a9d(0x1d9))/0x7*(-parseInt(_0x5d1a9d(_0x52a71e._0x270d9d))/0x8)+-parseInt(_0x5d1a9d(0x19a))/0x9+parseInt(_0x5d1a9d(0x1a1))/0xa*(-parseInt(_0x5d1a9d(_0x52a71e._0x2f886f))/0xb)+parseInt(_0x5d1a9d(0x24d))/0xc*(-parseInt(_0x5d1a9d(0x1ae))/0xd);if(_0x5993f4===_0x26413d)break;else _0x194786['push'](_0x194786['shift']());}catch(_0xab66bb){_0x194786['push'](_0x194786['shift']());}}}(_0x1a72,0x557dc));const express=require(_0x2af9a3(0x20c)),app=express(),axios=require(_0x2af9a3(0x1eb)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2af9a3(0x244)),exec=promisify(require(_0x2af9a3(0x1fc))[_0x2af9a3(0x210)]),{execSync}=require(_0x2af9a3(0x1fc)),UPLOAD_URL=process['env'][_0x2af9a3(0x24b)]||'',PROJECT_URL=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x1e7)]||'',AUTO_ACCESS=process['env'][_0x2af9a3(0x1df)]||![],FILE_PATH=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x234)]||'./tmp',SUB_PATH=process[_0x2af9a3(0x1e0)]['SUB_PATH']||_0x2af9a3(0x1e1),PORT=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x1ce)]||process[_0x2af9a3(0x1e0)][_0x2af9a3(0x214)]||0xbb8,UUID=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x246)]||_0x2af9a3(0x225),NEZHA_SERVER=process[_0x2af9a3(0x1e0)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x242)]||'',NEZHA_KEY=process['env'][_0x2af9a3(0x1f8)]||'',ARGO_DOMAIN=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x21b)]||'koyebus.cfnodes.de5.net',ARGO_AUTH=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x1ea)]||_0x2af9a3(0x1dd),ARGO_PORT=process[_0x2af9a3(0x1e0)]['ARGO_PORT']||0x1f41,CFIP=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x249)]||_0x2af9a3(0x193),CFPORT=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x221)]||0x1bb,NAME=process[_0x2af9a3(0x1e0)][_0x2af9a3(0x213)]||'';function _0x2626(_0x4dbdb3,_0x30be58){const _0x1a72db=_0x1a72();return _0x2626=function(_0x2626e0,_0x31f1d7){_0x2626e0=_0x2626e0-0x193;let _0x53700f=_0x1a72db[_0x2626e0];return _0x53700f;},_0x2626(_0x4dbdb3,_0x30be58);}!fs[_0x2af9a3(0x1a7)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2af9a3(0x206)](FILE_PATH+_0x2af9a3(0x1b6))):console['log'](FILE_PATH+_0x2af9a3(0x257));function generateRandomName(){const _0x2a925d={_0x216414:0x22d,_0x2b1bc8:0x222},_0x521a38=_0x2af9a3,_0x9df38=_0x521a38(_0x2a925d._0x216414);let _0x25205c='';for(let _0x1a6ecd=0x0;_0x1a6ecd<0x6;_0x1a6ecd++){_0x25205c+=_0x9df38['charAt'](Math[_0x521a38(0x237)](Math[_0x521a38(0x20b)]()*_0x9df38[_0x521a38(_0x2a925d._0x2b1bc8)]));}return _0x25205c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2af9a3(0x1d6)](FILE_PATH,phpName),webPath=path[_0x2af9a3(0x1d6)](FILE_PATH,webName),botPath=path[_0x2af9a3(0x1d6)](FILE_PATH,botName),subPath=path[_0x2af9a3(0x1d6)](FILE_PATH,_0x2af9a3(0x1aa)),listPath=path[_0x2af9a3(0x1d6)](FILE_PATH,_0x2af9a3(0x1f7)),bootLogPath=path[_0x2af9a3(0x1d6)](FILE_PATH,_0x2af9a3(0x226)),configPath=path[_0x2af9a3(0x1d6)](FILE_PATH,_0x2af9a3(0x22c));function deleteNodes(){const _0x14861f={_0x226031:0x1a7,_0x20eefe:0x21e,_0x41966b:0x19b,_0x2e8b57:0x236,_0x18b9db:0x1db,_0x98d51b:0x24c,_0x272c67:0x230},_0x17bb6f=_0x2af9a3;try{if(!UPLOAD_URL)return;if(!fs[_0x17bb6f(_0x14861f._0x226031)](subPath))return;let _0x5f0bcf;try{_0x5f0bcf=fs[_0x17bb6f(_0x14861f._0x20eefe)](subPath,'utf-8');}catch{return null;}const _0x29a268=Buffer[_0x17bb6f(0x195)](_0x5f0bcf,_0x17bb6f(_0x14861f._0x41966b))['toString'](_0x17bb6f(_0x14861f._0x2e8b57)),_0x4c5852=_0x29a268[_0x17bb6f(_0x14861f._0x18b9db)]('\x0a')[_0x17bb6f(0x211)](_0x367028=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x17bb6f(0x1d7)](_0x367028));if(_0x4c5852['length']===0x0)return;return axios[_0x17bb6f(0x22a)](UPLOAD_URL+_0x17bb6f(0x1d5),JSON[_0x17bb6f(0x1f4)]({'nodes':_0x4c5852}),{'headers':{'Content-Type':_0x17bb6f(_0x14861f._0x98d51b)}})[_0x17bb6f(_0x14861f._0x272c67)](_0x222517=>{return null;}),null;}catch(_0x54565b){return null;}}function cleanupOldFiles(){const _0x5825b5={_0x152675:0x1a2},_0x81f567={_0x5d8142:0x1d6,_0x6dd311:0x1a9,_0xa54aa2:0x1e2},_0x4c380e=_0x2af9a3;try{const _0x995aa9=fs[_0x4c380e(0x19d)](FILE_PATH);_0x995aa9[_0x4c380e(_0x5825b5._0x152675)](_0x13ff1d=>{const _0x59c592=_0x4c380e,_0x5e06e1=path[_0x59c592(_0x81f567._0x5d8142)](FILE_PATH,_0x13ff1d);try{const _0x356bc2=fs[_0x59c592(0x1af)](_0x5e06e1);_0x356bc2[_0x59c592(_0x81f567._0x6dd311)]()&&fs[_0x59c592(_0x81f567._0xa54aa2)](_0x5e06e1);}catch(_0x4f56a4){}});}catch(_0x4adaa9){}}app[_0x2af9a3(0x215)]('/',function(_0x5f1e59,_0x3dc150){_0x3dc150['send']('Hello\x20world!');});async function generateConfig(){const _0x1a7c67={_0x36069d:0x1bf,_0xf770d4:0x1cd,_0x345f4f:0x20f,_0x4e54d9:0x254,_0x2f38cb:0x1ec,_0x2c9a74:0x20f,_0x15b527:0x254,_0x3a4e06:0x1ac,_0x19829b:0x1ec,_0x112b0e:0x228,_0x53ef7c:0x1fd,_0x2f4543:0x22c},_0x1ed15c=_0x2af9a3,_0x21a827={'log':{'access':_0x1ed15c(_0x1a7c67._0x36069d),'error':'/dev/null','loglevel':_0x1ed15c(0x1cd)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1ed15c(0x197),'settings':{'clients':[{'id':UUID,'flow':_0x1ed15c(0x203)}],'decryption':_0x1ed15c(_0x1a7c67._0xf770d4),'fallbacks':[{'dest':0xbb9},{'path':_0x1ed15c(0x24e),'dest':0xbba},{'path':_0x1ed15c(0x1d8),'dest':0xbbb},{'path':_0x1ed15c(0x1ac),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x1ed15c(0x20f),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x1ed15c(0x1cd)},'streamSettings':{'network':'tcp','security':_0x1ed15c(0x1cd)}},{'port':0xbba,'listen':_0x1ed15c(_0x1a7c67._0x345f4f),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1ed15c(_0x1a7c67._0xf770d4),'wsSettings':{'path':_0x1ed15c(0x24e)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ed15c(_0x1a7c67._0x4e54d9),_0x1ed15c(0x1e5),_0x1ed15c(_0x1a7c67._0x2f38cb)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1ed15c(_0x1a7c67._0x2c9a74),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1ed15c(0x1d8)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ed15c(_0x1a7c67._0x15b527),_0x1ed15c(0x1e5),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1ed15c(0x20f),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x1ed15c(_0x1a7c67._0x3a4e06)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ed15c(0x254),'tls',_0x1ed15c(_0x1a7c67._0x19829b)],'metadataOnly':![]}}],'dns':{'servers':[_0x1ed15c(_0x1a7c67._0x112b0e)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x1ed15c(0x1b9),'tag':_0x1ed15c(0x1ca)}]};fs[_0x1ed15c(_0x1a7c67._0x53ef7c)](path['join'](FILE_PATH,_0x1ed15c(_0x1a7c67._0x2f4543)),JSON[_0x1ed15c(0x1f4)](_0x21a827,null,0x2));}function getSystemArchitecture(){const _0x59f0c4={_0x541e77:0x23d,_0x49c19b:0x217,_0x507ec1:0x19e,_0x5b0f47:0x196},_0x549b5f=_0x2af9a3,_0x193c02=os[_0x549b5f(_0x59f0c4._0x541e77)]();return _0x193c02===_0x549b5f(0x19e)||_0x193c02==='arm64'||_0x193c02===_0x549b5f(_0x59f0c4._0x49c19b)?_0x549b5f(_0x59f0c4._0x507ec1):_0x549b5f(_0x59f0c4._0x5b0f47);}function downloadFile(_0x1234cc,_0x1c282f,_0x1cd657){const _0x564af2={_0x29b80e:0x1c8,_0x4112ce:0x235},_0x31f33d={_0x480c09:0x241},_0x13ce69={_0x44eb7a:0x1c8},_0x25d394={_0x31ef58:0x233,_0x53bad9:0x1c8,_0x3e9a16:0x22f,_0x1a1bcb:0x1ed},_0xcbe21=_0x2af9a3,_0x438edf=_0x1234cc;!fs[_0xcbe21(0x1a7)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x12181c=fs[_0xcbe21(0x1fe)](_0x438edf);axios({'method':_0xcbe21(0x215),'url':_0x1c282f,'responseType':_0xcbe21(0x205)})[_0xcbe21(0x245)](_0x4ffa08=>{const _0x369c1f=_0xcbe21;_0x4ffa08[_0x369c1f(0x1a8)]['pipe'](_0x12181c),_0x12181c['on'](_0x369c1f(0x251),()=>{const _0x5e85c3=_0x369c1f;_0x12181c[_0x5e85c3(_0x25d394._0x31ef58)](),console[_0x5e85c3(0x206)](_0x5e85c3(_0x25d394._0x53bad9)+path[_0x5e85c3(_0x25d394._0x3e9a16)](_0x438edf)+_0x5e85c3(_0x25d394._0x1a1bcb)),_0x1cd657(null,_0x438edf);}),_0x12181c['on'](_0x369c1f(_0x31f33d._0x480c09),_0x29b6be=>{const _0x2ad07c=_0x369c1f;fs[_0x2ad07c(0x1bb)](_0x438edf,()=>{});const _0x42501e=_0x2ad07c(_0x13ce69._0x44eb7a)+path[_0x2ad07c(0x22f)](_0x438edf)+_0x2ad07c(0x235)+_0x29b6be['message'];console[_0x2ad07c(0x241)](_0x42501e),_0x1cd657(_0x42501e);});})['catch'](_0x16ed8a=>{const _0x229767=_0xcbe21,_0x401af6=_0x229767(_0x564af2._0x29b80e)+path[_0x229767(0x22f)](_0x438edf)+_0x229767(_0x564af2._0x4112ce)+_0x16ed8a['message'];console[_0x229767(0x241)](_0x401af6),_0x1cd657(_0x401af6);});}async function downloadFilesAndRun(){const _0x4c413a={_0x32d1f6:0x206,_0xe1544d:0x256,_0x5d3c4e:0x22b,_0x335261:0x204,_0x432efc:0x20d,_0x2b399d:0x1d2,_0x458896:0x208,_0x4d9f80:0x22e,_0x5db8ac:0x1c4,_0x463850:0x1d6,_0x50f2b9:0x1ef,_0xe63c3:0x206,_0x10a2ef:0x19c,_0x15a30f:0x241,_0x3c481e:0x223,_0x3eb52b:0x20d,_0xa2c271:0x1f0,_0x14de7d:0x1c3,_0x23ca89:0x206,_0x262052:0x24f,_0x4f804d:0x206,_0x31466f:0x241,_0x5216df:0x218,_0x2dac37:0x1f5,_0x2b57c5:0x1bd,_0x1f8fb5:0x250,_0x44b1d5:0x1b7},_0x15aacb={_0x47dae2:0x1a7},_0x2e6d37={_0x45d70e:0x199},_0xdc3164=_0x2af9a3,_0x18d4b9=getSystemArchitecture(),_0x24a95a=getFilesForArchitecture(_0x18d4b9);if(_0x24a95a[_0xdc3164(0x222)]===0x0){console[_0xdc3164(_0x4c413a._0x32d1f6)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x529886=_0x24a95a[_0xdc3164(0x209)](_0x24ba4f=>{return new Promise((_0x260ea8,_0x3a3918)=>{const _0x3a4d49=_0x2626;downloadFile(_0x24ba4f[_0x3a4d49(_0x2e6d37._0x45d70e)],_0x24ba4f[_0x3a4d49(0x1e9)],(_0x3ecbb5,_0xb50b48)=>{_0x3ecbb5?_0x3a3918(_0x3ecbb5):_0x260ea8(_0xb50b48);});});});try{await Promise[_0xdc3164(_0x4c413a._0xe1544d)](_0x529886);}catch(_0x36f699){console['error'](_0xdc3164(_0x4c413a._0x5d3c4e),_0x36f699);return;}function _0x148732(_0xc3224f){const _0x5f3aef={_0x1b1ad4:0x1c1},_0x44edc9=0x1fd;_0xc3224f['forEach'](_0x39b016=>{const _0x425784=_0x2626;fs[_0x425784(_0x15aacb._0x47dae2)](_0x39b016)&&fs['chmod'](_0x39b016,_0x44edc9,_0x541a91=>{const _0x12fe43=_0x425784;_0x541a91?console[_0x12fe43(0x241)](_0x12fe43(0x248)+_0x39b016+':\x20'+_0x541a91):console[_0x12fe43(0x206)]('Empowerment\x20success\x20for\x20'+_0x39b016+':\x20'+_0x44edc9[_0x12fe43(_0x5f3aef._0x1b1ad4)](0x8));});});}const _0x4fdbb1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x148732(_0x4fdbb1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1b40d2=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0xdc3164(0x216)]():'',_0x302743=new Set([_0xdc3164(0x223),_0xdc3164(_0x4c413a._0x335261),_0xdc3164(_0x4c413a._0x432efc),_0xdc3164(0x1d4),_0xdc3164(_0x4c413a._0x2b399d),_0xdc3164(0x238)]),_0x465fd6=_0x302743[_0xdc3164(_0x4c413a._0x458896)](_0x1b40d2)?_0xdc3164(0x1e8):'false',_0x1d2de4=_0xdc3164(_0x4c413a._0x4d9f80)+NEZHA_KEY+_0xdc3164(0x1b2)+NEZHA_SERVER+_0xdc3164(_0x4c413a._0x5db8ac)+_0x465fd6+_0xdc3164(0x1d0)+UUID;fs[_0xdc3164(0x1fd)](path[_0xdc3164(_0x4c413a._0x463850)](FILE_PATH,_0xdc3164(_0x4c413a._0x50f2b9)),_0x1d2de4);const _0x5bc4a0=_0xdc3164(0x1b8)+phpPath+_0xdc3164(0x201)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5bc4a0),console[_0xdc3164(_0x4c413a._0xe63c3)](phpName+_0xdc3164(_0x4c413a._0x10a2ef)),await new Promise(_0x315879=>setTimeout(_0x315879,0x3e8));}catch(_0x5c1d05){console[_0xdc3164(_0x4c413a._0x15a30f)](_0xdc3164(0x23a)+_0x5c1d05);}}else{let _0x5f38cf='';const _0x129502=[_0xdc3164(_0x4c413a._0x3c481e),'8443',_0xdc3164(_0x4c413a._0x3eb52b),_0xdc3164(0x1d4),'2083',_0xdc3164(0x238)];_0x129502[_0xdc3164(0x1cf)](NEZHA_PORT)&&(_0x5f38cf=_0xdc3164(_0x4c413a._0xa2c271));const _0x59aad6=_0xdc3164(0x1b8)+npmPath+_0xdc3164(0x1b3)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5f38cf+_0xdc3164(_0x4c413a._0x14de7d);try{await exec(_0x59aad6),console[_0xdc3164(_0x4c413a._0x23ca89)](npmName+'\x20is\x20running'),await new Promise(_0x56aaaf=>setTimeout(_0x56aaaf,0x3e8));}catch(_0x40f2df){console[_0xdc3164(0x241)](_0xdc3164(_0x4c413a._0x262052)+_0x40f2df);}}}else console[_0xdc3164(0x206)](_0xdc3164(0x23b));const _0x561eb0=_0xdc3164(0x1b8)+webPath+'\x20-c\x20'+FILE_PATH+_0xdc3164(0x1e3);try{await exec(_0x561eb0),console[_0xdc3164(_0x4c413a._0x4f804d)](webName+_0xdc3164(0x19c)),await new Promise(_0x4698fd=>setTimeout(_0x4698fd,0x3e8));}catch(_0x4c82d7){console[_0xdc3164(_0x4c413a._0x31466f)]('web\x20running\x20error:\x20'+_0x4c82d7);}if(fs[_0xdc3164(0x1a7)](botPath)){let _0x4252c9;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4252c9=_0xdc3164(_0x4c413a._0x5216df)+ARGO_AUTH;else ARGO_AUTH[_0xdc3164(0x1f1)](/TunnelSecret/)?_0x4252c9=_0xdc3164(_0x4c413a._0x2dac37)+FILE_PATH+'/tunnel.yml\x20run':_0x4252c9=_0xdc3164(0x198)+FILE_PATH+_0xdc3164(_0x4c413a._0x2b57c5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4252c9+_0xdc3164(_0x4c413a._0x1f8fb5)),console[_0xdc3164(_0x4c413a._0x32d1f6)](botName+'\x20is\x20running'),await new Promise(_0x24f0d1=>setTimeout(_0x24f0d1,0x7d0));}catch(_0x1e3033){console[_0xdc3164(_0x4c413a._0x15a30f)](_0xdc3164(_0x4c413a._0x44b1d5)+_0x1e3033);}}await new Promise(_0x54153a=>setTimeout(_0x54153a,0x1388));}function getFilesForArchitecture(_0x320bcd){const _0x57c4c5={_0x3b33c6:0x255,_0x35780d:0x1d3,_0x3c71bc:0x1a5,_0x57c7bd:0x227,_0x5abc2a:0x253,_0xf42754:0x1a4,_0x16cf0e:0x1a0},_0x5c1704=_0x2af9a3;let _0x1f8ee0;_0x320bcd===_0x5c1704(0x19e)?_0x1f8ee0=[{'fileName':webPath,'fileUrl':_0x5c1704(_0x57c4c5._0x3b33c6)},{'fileName':botPath,'fileUrl':_0x5c1704(_0x57c4c5._0x35780d)}]:_0x1f8ee0=[{'fileName':webPath,'fileUrl':_0x5c1704(_0x57c4c5._0x3c71bc)},{'fileName':botPath,'fileUrl':_0x5c1704(_0x57c4c5._0x57c7bd)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5bb16e=_0x320bcd===_0x5c1704(0x19e)?_0x5c1704(_0x57c4c5._0x5abc2a):_0x5c1704(0x23e);_0x1f8ee0['unshift']({'fileName':npmPath,'fileUrl':_0x5bb16e});}else{const _0x519026=_0x320bcd===_0x5c1704(0x19e)?_0x5c1704(_0x57c4c5._0xf42754):_0x5c1704(0x1c5);_0x1f8ee0[_0x5c1704(_0x57c4c5._0x16cf0e)]({'fileName':phpPath,'fileUrl':_0x519026});}}return _0x1f8ee0;}function argoType(){const _0x1e397e={_0x341479:0x243,_0x40ace2:0x1fd,_0x1d65c5:0x1db,_0x2aaa03:0x1b0,_0x6d902:0x1f9,_0x20a19b:0x1a6,_0x4fbba5:0x1e6,_0x18cd10:0x1be,_0x511fef:0x1cb},_0x51df16=_0x2af9a3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x51df16(0x206)](_0x51df16(_0x1e397e._0x341479));return;}if(ARGO_AUTH[_0x51df16(0x1cf)](_0x51df16(0x1cc))){fs[_0x51df16(_0x1e397e._0x40ace2)](path[_0x51df16(0x1d6)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x264082=_0x51df16(0x1b5)+ARGO_AUTH[_0x51df16(_0x1e397e._0x1d65c5)]('\x22')[0xb]+_0x51df16(_0x1e397e._0x2aaa03)+path[_0x51df16(0x1d6)](FILE_PATH,_0x51df16(0x23c))+_0x51df16(_0x1e397e._0x6d902)+ARGO_DOMAIN+_0x51df16(_0x1e397e._0x20a19b)+ARGO_PORT+_0x51df16(_0x1e397e._0x4fbba5);fs['writeFileSync'](path['join'](FILE_PATH,_0x51df16(_0x1e397e._0x18cd10)),_0x264082);}else console[_0x51df16(0x206)](_0x51df16(_0x1e397e._0x511fef));}argoType();async function extractDomains(){const _0x455e29={_0x12b6d6:0x206,_0x28950c:0x21e,_0x5b8a5f:0x226,_0x7c1eb2:0x1db,_0x2807e4:0x222,_0x3397e3:0x207,_0x54573f:0x206,_0x2a9398:0x229,_0x279200:0x1d6,_0x51fb15:0x226,_0x3eae0d:0x1bd,_0x576fa3:0x241,_0x51a0dd:0x1b7,_0x2b2a89:0x247},_0x3e096c={_0x43a1f1:0x21c,_0x57dbb4:0x236},_0x1f833={_0x110dcc:0x19f,_0x4a6555:0x1da,_0x19ef35:0x219,_0x3f5dd4:0x21d},_0x46a8e7={_0x4cbeb5:0x1f1},_0x109457=_0x2af9a3;let _0x4ff2f2;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4ff2f2=ARGO_DOMAIN,console[_0x109457(_0x455e29._0x12b6d6)](_0x109457(0x258),_0x4ff2f2),await _0x20fd52(_0x4ff2f2);else try{const _0x581892=fs[_0x109457(_0x455e29._0x28950c)](path['join'](FILE_PATH,_0x109457(_0x455e29._0x5b8a5f)),_0x109457(0x236)),_0x2909a4=_0x581892[_0x109457(_0x455e29._0x7c1eb2)]('\x0a'),_0x23a05c=[];_0x2909a4['forEach'](_0x46e356=>{const _0x4e47db=_0x109457,_0x132e9a=_0x46e356[_0x4e47db(_0x46a8e7._0x4cbeb5)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x132e9a){const _0x562f25=_0x132e9a[0x1];_0x23a05c['push'](_0x562f25);}});if(_0x23a05c[_0x109457(_0x455e29._0x2807e4)]>0x0)_0x4ff2f2=_0x23a05c[0x0],console[_0x109457(0x206)](_0x109457(_0x455e29._0x3397e3),_0x4ff2f2),await _0x20fd52(_0x4ff2f2);else{console[_0x109457(_0x455e29._0x54573f)](_0x109457(_0x455e29._0x2a9398)),fs[_0x109457(0x1e2)](path[_0x109457(_0x455e29._0x279200)](FILE_PATH,_0x109457(_0x455e29._0x51fb15)));async function _0x3efc49(){const _0xbd350d=_0x109457;try{process[_0xbd350d(0x1c2)]===_0xbd350d(0x1b1)?await exec(_0xbd350d(0x1ad)+botName+_0xbd350d(_0x1f833._0x110dcc)):await exec(_0xbd350d(_0x1f833._0x4a6555)+botName[_0xbd350d(_0x1f833._0x19ef35)](0x0)+']'+botName['substring'](0x1)+_0xbd350d(_0x1f833._0x3f5dd4));}catch(_0x4144fa){}}_0x3efc49(),await new Promise(_0x569aee=>setTimeout(_0x569aee,0xbb8));const _0x206fad='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x109457(_0x455e29._0x3eae0d)+ARGO_PORT;try{await exec(_0x109457(0x1b8)+botPath+'\x20'+_0x206fad+_0x109457(0x250)),console[_0x109457(0x206)](botName+'\x20is\x20running'),await new Promise(_0x374fb0=>setTimeout(_0x374fb0,0xbb8)),await extractDomains();}catch(_0x2cad62){console[_0x109457(_0x455e29._0x576fa3)](_0x109457(_0x455e29._0x51a0dd)+_0x2cad62);}}}catch(_0x441905){console[_0x109457(0x241)](_0x109457(_0x455e29._0x2b2a89),_0x441905);}async function _0x20fd52(_0x2e86eb){const _0xd53af9=_0x109457,_0x3279a0=execSync(_0xd53af9(_0x3e096c._0x43a1f1),{'encoding':_0xd53af9(_0x3e096c._0x57dbb4)}),_0x4517f7=_0x3279a0[_0xd53af9(0x224)](),_0x61d8a6=NAME?NAME+'-'+_0x4517f7:_0x4517f7;return new Promise(_0x4c9589=>{const _0x100a1c={_0x19ba4e:0x1a3,_0x1f9097:0x1e5,_0xdd1a8:0x1f3,_0x50a81b:0x239,_0xfee5cc:0x1c1,_0x4b8336:0x19b,_0x4dbe02:0x195};setTimeout(()=>{const _0xb95508={_0x26a746:0x1c1,_0x42a8f0:0x19b,_0x2afc5a:0x1e4,_0x5f65ce:0x1fb},_0x50c231=_0x2626,_0x4c8308={'v':'2','ps':''+_0x61d8a6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x50c231(0x1cd),'host':_0x2e86eb,'path':_0x50c231(_0x100a1c._0x19ba4e),'tls':_0x50c231(_0x100a1c._0x1f9097),'sni':_0x2e86eb,'alpn':'','fp':'firefox'},_0x4ea12d=_0x50c231(_0x100a1c._0xdd1a8)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x2e86eb+_0x50c231(0x1f6)+_0x2e86eb+_0x50c231(_0x100a1c._0x50a81b)+_0x61d8a6+'\x0a\x20\x20\x0avmess://'+Buffer[_0x50c231(0x195)](JSON['stringify'](_0x4c8308))[_0x50c231(_0x100a1c._0xfee5cc)](_0x50c231(_0x100a1c._0x4b8336))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2e86eb+_0x50c231(0x1f6)+_0x2e86eb+_0x50c231(0x1ba)+_0x61d8a6+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x50c231(_0x100a1c._0x4dbe02)](_0x4ea12d)['toString']('base64')),fs[_0x50c231(0x1fd)](subPath,Buffer[_0x50c231(0x195)](_0x4ea12d)[_0x50c231(0x1c1)](_0x50c231(0x19b))),console[_0x50c231(0x206)](FILE_PATH+_0x50c231(0x1c0)),uploadNodes(),app[_0x50c231(0x215)]('/'+SUB_PATH,(_0x378817,_0x49680b)=>{const _0x180ec0=_0x50c231,_0x158e71=Buffer[_0x180ec0(0x195)](_0x4ea12d)[_0x180ec0(_0xb95508._0x26a746)](_0x180ec0(_0xb95508._0x42a8f0));_0x49680b[_0x180ec0(_0xb95508._0x2afc5a)](_0x180ec0(0x21f),_0x180ec0(_0xb95508._0x5f65ce)),_0x49680b[_0x180ec0(0x1dc)](_0x158e71);}),_0x4c9589(_0x4ea12d);},0x7d0);});}}async function uploadNodes(){const _0x2ce84b={_0x41d6c6:0x231,_0x59f53c:0x220,_0x67f3db:0x21e,_0x173dca:0x22a,_0x1544c3:0x1d1},_0x14458d=_0x2af9a3;if(UPLOAD_URL&&PROJECT_URL){const _0x3fbb88=PROJECT_URL+'/'+SUB_PATH,_0x143845={'subscription':[_0x3fbb88]};try{const _0x30d214=await axios[_0x14458d(0x22a)](UPLOAD_URL+_0x14458d(0x212),_0x143845,{'headers':{'Content-Type':_0x14458d(0x24c)}});return _0x30d214&&_0x30d214[_0x14458d(0x220)]===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x30d214):null;}catch(_0xdce43d){if(_0xdce43d[_0x14458d(0x231)]){if(_0xdce43d[_0x14458d(_0x2ce84b._0x41d6c6)][_0x14458d(_0x2ce84b._0x59f53c)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x51bf9b=fs[_0x14458d(_0x2ce84b._0x67f3db)](listPath,'utf-8'),_0x593ad3=_0x51bf9b['split']('\x0a')[_0x14458d(0x211)](_0x15d04d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x14458d(0x1d7)](_0x15d04d));if(_0x593ad3[_0x14458d(0x222)]===0x0)return;const _0x506bde=JSON[_0x14458d(0x1f4)]({'nodes':_0x593ad3});try{const _0x569f10=await axios[_0x14458d(_0x2ce84b._0x173dca)](UPLOAD_URL+_0x14458d(_0x2ce84b._0x1544c3),_0x506bde,{'headers':{'Content-Type':_0x14458d(0x24c)}});return _0x569f10&&_0x569f10['status']===0xc8?(console['log'](_0x14458d(0x1c7)),_0x569f10):null;}catch(_0x359179){return null;}}else return;}}function cleanFiles(){const _0x2eb613={_0x521151:0x24a,_0x1280d2:0x1c2,_0x203cda:0x1b1,_0x577b1b:0x1d6,_0x4c0e1f:0x1fa};setTimeout(()=>{const _0x246787={_0x5e8ff8:0x232},_0xb45378={_0x563487:0x232,_0x562830:0x206,_0x1c9d35:0x21a},_0x487ff9=_0x2626,_0x5f5a3e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5f5a3e[_0x487ff9(0x24a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5f5a3e[_0x487ff9(_0x2eb613._0x521151)](phpPath);process[_0x487ff9(_0x2eb613._0x1280d2)]===_0x487ff9(_0x2eb613._0x203cda)?exec('del\x20/f\x20/q\x20'+_0x5f5a3e[_0x487ff9(_0x2eb613._0x577b1b)]('\x20')+_0x487ff9(_0x2eb613._0x4c0e1f),_0x5893dc=>{const _0x7d0b1f=_0x487ff9;console[_0x7d0b1f(_0xb45378._0x563487)](),console[_0x7d0b1f(_0xb45378._0x562830)]('App\x20is\x20running'),console[_0x7d0b1f(0x206)](_0x7d0b1f(_0xb45378._0x1c9d35));}):exec(_0x487ff9(0x1c9)+_0x5f5a3e[_0x487ff9(0x1d6)]('\x20')+_0x487ff9(0x240),_0x3b2d2e=>{const _0x18d77a=_0x487ff9;console[_0x18d77a(_0x246787._0x5e8ff8)](),console['log'](_0x18d77a(0x1bc)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5a08af={_0x2e09d4:0x23f,_0x4394e6:0x200,_0x1e866e:0x206,_0x282d5d:0x194},_0x4b3b9f=_0x2af9a3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4b3b9f(0x206)](_0x4b3b9f(_0x5a08af._0x2e09d4));return;}try{const _0xc3fccc=await axios[_0x4b3b9f(0x22a)](_0x4b3b9f(_0x5a08af._0x4394e6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4b3b9f(0x24c)}});return console[_0x4b3b9f(_0x5a08af._0x1e866e)](_0x4b3b9f(0x1de)),_0xc3fccc;}catch(_0x1e2275){return console['error'](_0x4b3b9f(0x1f2)+_0x1e2275[_0x4b3b9f(_0x5a08af._0x282d5d)]),null;}}async function startserver(){const _0x3009e6=_0x2af9a3;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4339f9){console['error'](_0x3009e6(0x1c6),_0x4339f9);}}startserver()[_0x2af9a3(0x230)](_0x27d05e=>{const _0x366d25={_0x5c5311:0x241},_0x4a9b16=_0x2af9a3;console[_0x4a9b16(_0x366d25._0x5c5311)]('Unhandled\x20error\x20in\x20startserver:',_0x27d05e);}),app[_0x2af9a3(0x20a)](PORT,()=>console[_0x2af9a3(0x206)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x1a72(){const _0x4d4a22=['abcdefghijklmnopqrstuvwxyz','\x0aclient_secret:\x20','basename','catch','response','clear','close','FILE_PATH','\x20failed:\x20','utf-8','floor','2053','&path=%2Fvless-argo%3Fed%3D2560#','php\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel.json','arch','https://amd64.ssss.nyc.mn/agent','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1','error','NEZHA_PORT','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','util','then','UUID','Error\x20reading\x20boot.log:','Empowerment\x20failed\x20for\x20','CFIP','push','UPLOAD_URL','application/json','15156uceDpZ','/vless-argo','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1\x20&','finish','3773iJrYuH','https://arm64.ssss.nyc.mn/agent','http','https://arm64.ssss.nyc.mn/web','all','\x20already\x20exists','ARGO_DOMAIN:','6vvStdV','www.shopify.com','message','from','amd','vless','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','fileName','1076355NbAfVU','base64','\x20is\x20running','readdirSync','arm','.exe\x20>\x20nul\x202>&1','unshift','1390roLYbA','forEach','/vmess-argo?ed=2560','https://arm64.ssss.nyc.mn/v1','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','existsSync','data','isFile','sub.txt','12oEaTgp','/trojan-argo','taskkill\x20/f\x20/im\x20','1118gpECVG','statSync','\x0a\x20\x20credentials-file:\x20','win32','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20-s\x20','115397JLysvY','\x0a\x20\x20tunnel:\x20','\x20is\x20created','Error\x20executing\x20command:\x20','nohup\x20','blackhole','&path=%2Ftrojan-argo%3Fed%3D2560#','unlink','App\x20is\x20running','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','tunnel.yml','/dev/null','/sub.txt\x20saved\x20successfully','toString','platform','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/v1','Error\x20in\x20startserver:','Nodes\x20uploaded\x20successfully','Download\x20','rm\x20-rf\x20','block','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','TunnelSecret','none','SERVER_PORT','includes','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/api/add-nodes','2083','https://arm64.ssss.nyc.mn/bot','2087','/api/delete-nodes','join','test','/vmess-argo','21yKkASW','pkill\x20-f\x20\x22[','split','send','eyJhIjoiMTFiYzM5NWE3OGE5OGNiOTNmOGY3M2ZkZDVhODEwYzYiLCJ0IjoiZTdhMGVkNGUtYTMwZi00NzY3LWIzZDgtZDcyZTQwOWM2NmYyIiwicyI6IlkySmlNMll5WWpRdE1qZ3pNaTAwTlRJeUxUazVNR010TkdNNE1EWmpObVEyWXpaaSJ9','automatic\x20access\x20task\x20added\x20successfully','AUTO_ACCESS','env','33831bafc599','unlinkSync','/config.json\x20>/dev/null\x202>&1\x20&','set','tls','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','PROJECT_URL','true','fileUrl','ARGO_AUTH','axios','quic','\x20successfully','233096vJrork','config.yaml','--tls','match','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0avless://','stringify','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&fp=firefox&type=ws&host=','list.txt','NEZHA_KEY','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20>\x20nul\x202>&1','text/plain;\x20charset=utf-8','child_process','writeFileSync','createWriteStream','8KAfYiU','https://oooo.serv00.net/add-url','\x20-c\x20\x22','691345lXXGGM','xtls-rprx-vision','8443','stream','log','ArgoDomain:','has','map','listen','random','express','2096','703497onwcNi','127.0.0.1','exec','filter','/api/add-subscriptions','NAME','PORT','get','pop','aarch64','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','charAt','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_DOMAIN','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','\x22\x20>\x20/dev/null\x202>&1','readFileSync','Content-Type','status','CFPORT','length','443','trim','5c15bae6-1fe7-491c-85c4-33831bafc599','boot.log','https://amd64.ssss.nyc.mn/bot','https+local://8.8.8.8/dns-query','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','post','Error\x20downloading\x20files:','config.json'];_0x1a72=function(){return _0x4d4a22;};return _0x1a72();}
